# 4. Buchbestellungen

## B2B-Buchbestellungen via EDI[¶](4.-buchbestellungen.md#b2b-buchbestellungen-via-edi) <a id="b2b-buchbestellungen-via-edi"></a>

> EDI steht für Electronic Data Interchange. UN/EDIFACT ist der internationale EDI-Standard der Vereinten Nationen.

### Zieldefinition[¶](4.-buchbestellungen.md#zieldefinition) <a id="zieldefinition"></a>

Unsere Projektziele für die **EDIFACT-Schnittstelle** sind wie folgt \(Verkäufer\*innenperspektive\):

1.  Über den Webshop wird angezeigt, ob ein Titel auf Lager ist:
2.  in der Buchhandlung \(Lagerbestand beim Anlegen manuell eingetragen\) oder
3.  bei der Auslieferung \(automatische Abfrage via EDIFACT-Schnittstelle, DB oder Product-Feed\)
4.  Wird ein Titel aus dem Lagerbestand der Buchhandlung bestellt, erhalten wir eine E-Mail-Benachrichtung.
5.  Ist ein Titel in der Buchhandlung nicht lagernd, wird die Bestellung automatisiert an die Auslieferung weitergeleitet.
6.  Versandavis und Lieferschein/Rechnung erhalten wir automatisiert via E-Mail und FTP.

NB: Bei ONIX geht es also um den Produktimport, bei EDIFACT um B2B-Buchbestellungen direkt bei der Auslieferung.

Wie bei ONIX \(XML-File\) findet die Kommunikation bei EDIFACT asynchron via FTP/SFTP statt. Eine Konvertierung der Daten in XML und zurück würde wahrscheinlich vollkommen ausreichen.

### Nachrichtentypen[¶](4.-buchbestellungen.md#nachrichtentypen) <a id="nachrichtentypen"></a>

Die EDI-Schnittstelle ermöglicht Erstellung und Parsen der nachfolgenden EDIFACT-Nachrichtentypen \(Standards EANCOM D.96A bzw. EANCOM D.01B Media\).

1.  `ORDERS` für Bestelldaten
2.  `ORDRSP` für Auftragsbestätigungen
3.  `INVOIC` für Rechnungsdaten
4.  `EDIFACT` für Lieferavise

### Funktionen[¶](4.-buchbestellungen.md#funktionen) <a id="funktionen"></a>

*  Senden und Empfangen von EDIfact-Nachrichten über eine bereitzustellende EDI-Schnittstelle
*  HTTPS REST API zur Abfrage von Echtzeitinformationen wie Preisen und Lagerständen
*  E-Mail-Empfang asynchroner Nachrichten wie Lieferavisen, Lieferscheinen und elektronischen Rechnungen
*  Erstellung und Parsen von EDIfact-Nachrichten und Speicherung in der Datenbank
*  Anbindung an ERP, CRM, FiBu und Registrierkasse

### Programmbibliotheken[¶](4.-buchbestellungen.md#programmbibliotheken) <a id="programmbibliotheken"></a>

PHP- & JS-Bibliotheken etc. \(Parser, Generatoren\) für EDIFACT sind ebenfalls vorhanden:

* [https://packagist.org/package/search?query=EDIFACT](https://packagist.org/package/search?query=EDIFACT)
* [https://www.npmjs.com/search?q=EDIFACT](https://www.npmjs.com/search?q=EDIFACT)

Am Vielversprechendsten sieht das hier aus: [Tools to process EDI messages in UN/EDIFACT format](https://github.com/php-edifact/edifact)

### EDI-Standard[¶](4.-buchbestellungen.md#edi-standard) <a id="edi-standard"></a>

Dieser EDI-Standard wird übrigens auch von vielen anderen Branchen genutzt, so dass sich ein solches Plugin bestimmt schnell großer Beliebtheit erfreuen würde. Die API-Dokumentation \(Spezifikationen, Schemadefinitionen, Best Practices usw.\) ist [hier](https://www.gs1.org/eancom/print/overview), [hier](https://xchange.gs1.org/sites/faq/Pages/if-i-want-to-use-the-gs1-xml-standards-what-documents-should-i-download.aspx) \(GS1 EDI\) und [hier](https://www.editeur.org/93/Release-3.0-Downloads/) \(ONIX\) verfügbar.

 Last update: January 22, 2021

